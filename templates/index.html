<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
   

    <script src="{{ url_for('static', filename='js/jquery-3.5.1.min.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.min.css') }}" id="bootstrap-css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <script src="{{ url_for('static', filename='js/Chart.min.js') }}"></script>
    <script type=text/javascript>
    var gt;
    var la;
           window.onload = function exampleFunction() { 
            $("#ec2").hide(); 

}
    function fetch(){
      console.log("hii")
      $.ajax({
        url:'/details',
        type:"GET",
        dataType: "JSON",
        data:'',
        success:function(data){
          $("#ec2").show(); 
          gt= data.results['CPU Credits'].split('/');
          la=[gt[1]-gt[0], parseInt(gt[1])];
          console.log([gt[1]-gt[0], parseInt(gt[1])])
          
          var trhtml="";
          $.each(data.results,function(key,value){
            trhtml += '<tr class="tableizer-firstrow"><th style=" padding: 10px !important;background: lavenderblush;text-align: center;">' + key + '</th><td   style="border: 4px solid #fff !important;padding: 10px !important;background: #f8f8f8 !important;">' + value + '</td></tr>';
})

$('.tableizer-table').empty().append(trhtml);     
canva();
        }, 
                     error: function(xhr, status, error)  {  
                         console.log(xhr);  
                     } 
      })
    }  
</script>

</head>
<body style="  font: 400 16px 'Muli', sans-serif !important;
margin: 0;
padding: 0;">
  
  

<!-- <div class="container-fluid" > 
  <div class="row">
    <div class="col-md-4">
      <button class='btn btn-default' onclick='fetch()'>Get Cloud Details</button>
      <table class="tableizer-table" style="margin: 10px auto; border-collapse: inherit;" id="content">
        <thead>
          <th>
            cloud details
            </th>
          <thead>
      </table> -->
      
      <!-- <table class="table table-striped">
      
        <tbody class="ckio">
          <tr>
            <th scope="row">hi</th>
            <td>Mark</td>
          </tr>
          <tr>
            <th scope="row">yo</th>
            <td>Mark</td>
          </tr>
        </tbody>
      </table>
       -->
    </div>
  </div>  
</div>  
<section id="team" class="pb-5">
  <div class="container-fluid">

        <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
  <a class="navbar-brand" href="#">AWS-Free tier</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
  <div class="collapse navbar-collapse" id="navbarResponsive">
    <ul class="navbar-nav ml-auto">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home
              <span class="sr-only">(current)</span>
            </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#" onclick="fetch()">Ec2</a>
      </li>
    </ul>
 
</div>
</nav>
<br>
<br>
       
      <div class="row">

          <div class="col-md-4" id="ec2">
            <!-- <button class='btn btn-default' onclick='fetch()'>Get Cloud Details</button> -->
              <div class="image-flip" ontouchstart="this.classList.toggle('hover');">
                  <div class="mainflip">
                      <div class="frontside">
                          <div class="card">
                            <table class="tableizer-table" style="margin: 10px auto;width:auto; border-collapse: inherit;" id="content">
                              <thead>
                                <thead>
                            </table>
                          </div>
                      </div>
                      <div class="backside">
                          
                            <canvas id="myChart" style=" width: 200%;"></canvas>
                            <script>
                           function canva(){
                            
                            var ctx = document.getElementById("myChart").getContext('2d');
                            var myChart = new Chart(ctx, {
                              type: 'pie',
                              data: {
                                labels: ["Credits Left", "CPU Credits",],
                                datasets: [{
                                  backgroundColor: [
                                    "lavenderblush",
                                    "#3498db",
                                    
                                  ],
                                  data: la
                                }]
                              }
                            });
                                                      }   
                            </script>
                        
                          
                      </div>
                  </div>
              </div>
          </div>
         



<div class="col-md-4">
              <div class="image-flip" ontouchstart="this.classList.toggle('hover');">
                  <div class="mainflip">
                      <div class="frontside">
                          <div class="card">
                              <div class="card-body text-center">
                                  <p><img class=" img-fluid" src="" alt="card image"></p>
                                  <h4 class="card-title">ReactJs Plan</h4>
                                  <p class="card-text"> Expert Advice For ReactJs projects </p>
<h4 class="card-title">503 <i class="fa fa-rupee"></i></h4>
                                  <a href="#" class="btn btn-primary btn-sm">Buy now <i class="fa fa-plus"></i></a>
                              </div>
                          </div>
                      </div>
                      <div class="backside">
                         
                      </div>
                  </div>
              </div>
          </div>
        


          <div class="col-md-4">
                  <div class="image-flip" ontouchstart="this.classList.toggle('hover');">
                      <div class="mainflip">
                          <div class="frontside">
                              <div class="card">
                                  <div class="card-body text-center">
                                      <p><img class=" img-fluid" src="" alt="card image"></p>
                                      <h4 class="card-title">Php,GO and python</h4>
                                      <p class="card-text"> Select your plans </p>
   <h4 class="card-title">530 <i class="fa fa-rupee"></i>, 540 <i class="fa fa-rupee"></i>, 550 <i class="fa fa-rupee"></i></h4>
                                      <a href="#" class="btn btn-primary btn-sm">Buy now <i class="fa fa-plus"></i></a>
                                  </div>
                              </div>
                          </div>
                          <div class="backside">
                              <div class="card">
                               
                              </div>
                          </div>
                      </div>
                  </div>
              </div>


             
      </div>
  </div>
</section>




    



</body>
</html>